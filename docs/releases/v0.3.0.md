# ðŸš€ Secrets v0.3.0 Release Notes

> Release date: 2026-02-16

This release adds metrics instrumentation and Prometheus-compatible monitoring support.

## Highlights

- Added OpenTelemetry metrics provider with Prometheus exporter
- Added optional `/metrics` endpoint for Prometheus scraping
- Added HTTP metrics middleware for request counts and latency histograms
- Added business operation metrics across auth, secrets, and transit use cases
- Added metrics configuration via `METRICS_ENABLED` and `METRICS_NAMESPACE`

## Metrics and Monitoring

New metric families:

- `{namespace}_http_requests_total`
- `{namespace}_http_request_duration_seconds`
- `{namespace}_operations_total`
- `{namespace}_operation_duration_seconds`

Runtime behavior:

- When `METRICS_ENABLED=true` (default), the server exposes `GET /metrics`
- When `METRICS_ENABLED=false`, metrics middleware and `/metrics` are not registered
- `METRICS_NAMESPACE` (default `secrets`) prefixes metric names

## Runtime and Compatibility

- API baseline remains v1 (`/v1/*`)
- Metrics endpoint is outside API versioning (`/metrics`)
- Local development targets: Linux and macOS
- CI baseline: Go `1.25.5`, PostgreSQL `16-alpine`, MySQL `8.0`
- Compatibility targets: PostgreSQL `12+`, MySQL `8.0+`

## Upgrade Notes

- Non-breaking addition: observability and metrics instrumentation
- Existing API paths and behavior remain compatible under API v1 documentation
- Update your environment configuration if you want custom metric namespace values

Example:

```bash
export METRICS_ENABLED=true
export METRICS_NAMESPACE=secrets
curl http://localhost:8080/metrics
```

## See also

- [Monitoring operations guide](../operations/monitoring.md)
- [Environment variables](../configuration/environment-variables.md)
- [Production operations](../operations/production.md)
- [API compatibility policy](../api/versioning-policy.md)
