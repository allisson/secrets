# ðŸš€ Secrets v0.5.0 Release Notes

> Release date: 2026-02-19

This release strengthens default runtime security by adding authenticated request rate limiting,
introducing configurable CORS controls, tightening default token lifetime, and expanding
production security documentation.

## Highlights

- Added per-client rate limiting for authenticated API routes
- Added configurable CORS middleware with secure defaults
- Reduced default token expiration from 24 hours to 4 hours
- Added comprehensive production security hardening guide

## Runtime Changes

- New rate limiting settings:
  - `RATE_LIMIT_ENABLED` (default `true`)
  - `RATE_LIMIT_REQUESTS_PER_SEC` (default `10.0`)
  - `RATE_LIMIT_BURST` (default `20`)
- New CORS settings:
  - `CORS_ENABLED` (default `false`)
  - `CORS_ALLOW_ORIGINS` (default empty)
- Authenticated endpoints now return `429 Too Many Requests` when limits are exceeded and include
  `Retry-After` response header

## Breaking / Behavior Changes

- **Default token expiration changed**:
  - Previous default: `AUTH_TOKEN_EXPIRATION_SECONDS=86400` (24h)
  - New default: `AUTH_TOKEN_EXPIRATION_SECONDS=14400` (4h)

If your clients expected 24-hour tokens, explicitly set `AUTH_TOKEN_EXPIRATION_SECONDS=86400`
and verify refresh behavior.

## Upgrade Notes

1. Deploy binaries/images with `v0.5.0`
2. Review and set explicit token expiration for your environment
3. Verify rate limit thresholds for client traffic profile
4. Keep CORS disabled unless browser-based access is required
5. Restrict `/metrics` exposure to internal networks only

## Operator Verification Checklist

1. Confirm health endpoints: `GET /health`, `GET /ready`
2. Validate token issuance and expiration expectations after upgrade
3. Confirm authenticated API traffic is not unintentionally rate limited
4. Validate `429` behavior and `Retry-After` header with controlled load test
5. Confirm CORS behavior matches policy (disabled by default, explicit origins only when enabled)

## Security Guidance

- Use TLS termination at reverse proxy/load balancer
- Use database TLS in production (`sslmode=require` or stronger / `tls=true` or stronger)
- Store master keys in a dedicated secrets manager
- Review least-privilege client policies and rotate credentials regularly

## Documentation Updates

- Added [Security hardening guide](../operations/security-hardening.md)
- Updated [Environment variables](../configuration/environment-variables.md) with rate limiting,
  CORS, and token expiration migration notes
- Updated [Production deployment guide](../operations/production.md) with security hardening links
- Added root-level changelog entry for `0.5.0`

## See also

- [v0.5.0 upgrade guide](v0.5.0-upgrade.md)
- [Release compatibility matrix](compatibility-matrix.md)
- [Security hardening guide](../operations/security-hardening.md)
- [Environment variables](../configuration/environment-variables.md)
- [Production deployment guide](../operations/production.md)
- [API compatibility policy](../api/versioning-policy.md)
