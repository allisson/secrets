# Database configuration
DB_DRIVER=postgres
# ⚠️ SECURITY WARNING: sslmode=disable is for DEVELOPMENT ONLY
# Production MUST use sslmode=require or sslmode=verify-full
# See docs/operations/security-hardening.md for guidance
DB_CONNECTION_STRING=postgres://user:password@localhost:5432/mydb?sslmode=disable
DB_MAX_OPEN_CONNECTIONS=25
DB_MAX_IDLE_CONNECTIONS=5
DB_CONN_MAX_LIFETIME=5

# Server configuration
SERVER_HOST=0.0.0.0
SERVER_PORT=8080

# Logging
LOG_LEVEL=info

# Metrics configuration
METRICS_ENABLED=true
METRICS_NAMESPACE=secrets

# Master keys (Envelope Encryption)
# Generate a new master key using: ./bin/app create-master-key
# Each key must be exactly 32 bytes (256 bits), base64-encoded
# Format: id1:base64key1,id2:base64key2 (comma-separated for multiple keys)
# ⚠️ SECURITY WARNING: Store master keys in secrets manager in production
# Never commit master keys to source control
MASTER_KEYS=default:bEu+O/9NOFAsWf1dhVB9aprmumKhhBcE6o7UPVmI43Y=
ACTIVE_MASTER_KEY_ID=default

# Authentication configuration
# Token expiration in seconds (default: 14400 = 4 hours)
# Migration note: Prior to v0.5.0, default was 86400 (24 hours)
AUTH_TOKEN_EXPIRATION_SECONDS=14400

# Rate limiting configuration
# Protects against abuse and denial-of-service attacks
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_SEC=10.0
RATE_LIMIT_BURST=20

# CORS configuration
# ⚠️ SECURITY WARNING: CORS is disabled by default for server-to-server API
# Enable only if browser-based access is required
# Never use "*" for CORS_ALLOW_ORIGINS in production
CORS_ENABLED=false
CORS_ALLOW_ORIGINS=

# Worker configuration
WORKER_INTERVAL=5
WORKER_BATCH_SIZE=10
WORKER_MAX_RETRIES=3
WORKER_RETRY_INTERVAL=1
